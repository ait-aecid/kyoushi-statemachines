
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="State machine based simulated actors." name="description"/>
<link href="https://ait-aecid.github.io/kyoushi-statemachines/reference/core/selenium/" rel="canonical"/>
<link href="../../../images/favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-6.2.8" name="generator"/>
<title>Selenium - Cyber Range Kyoushi State Machines</title>
<link href="../../../assets/stylesheets/main.cb6bc1d0.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.39b8e14a.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../../stylesheets/extra.css" rel="stylesheet"/>
<link href="../../../stylesheets/jquery.fancybox.min.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="ait" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#cr_kyoushi.statemachines.core.selenium">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Cyber Range Kyoushi State Machines" class="md-header-nav__button md-logo" href="https://ait-aecid.github.io/kyoushi-statemachines/" title="Cyber Range Kyoushi State Machines">
<img alt="logo" src="../../../images/cr_icon.svg"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<div class="md-header-nav__topic">
<span class="md-ellipsis">
            Cyber Range Kyoushi State Machines
          </span>
</div>
<div class="md-header-nav__topic">
<span class="md-ellipsis">
            
              Selenium
            
          </span>
</div>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/ait-aecid/kyoushi-statemachines/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    kyoushi-statemachines
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Cyber Range Kyoushi State Machines" class="md-nav__button md-logo" href="https://ait-aecid.github.io/kyoushi-statemachines/" title="Cyber Range Kyoushi State Machines">
<img alt="logo" src="../../../images/cr_icon.svg"/>
</a>
    Cyber Range Kyoushi State Machines
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/ait-aecid/kyoushi-statemachines/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    kyoushi-statemachines
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../contributing/">
        Contributing
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
        Code Reference
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Code Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" id="nav-3-1" type="checkbox"/>
<label class="md-nav__link" for="nav-3-1">
        Core
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Core" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-3-1">
<span class="md-nav__icon md-icon"></span>
          Core
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../model/">
        Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../util/">
        Util
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Selenium
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Selenium
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium">
    cr_kyoushi.statemachines.core.selenium
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig">
    SeleniumConfig
  </a>
<nav aria-label="SeleniumConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.accept_insecure_ssl">
    accept_insecure_ssl
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.arguments">
    arguments
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.capabilities">
    capabilities
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.download">
    download
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.driver_manager">
    driver_manager
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.headless">
    headless
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.implicit_wait">
    implicit_wait
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.int">
    int
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.proxy">
    proxy
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.type">
    type
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_height">
    window_height
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_width">
    window_width
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_x_position">
    window_x_position
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_y_position">
    window_y_position
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContext">
    SeleniumContext
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContextModel">
    SeleniumContextModel
  </a>
<nav aria-label="SeleniumContextModel" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContextModel.main_window">
    main_window
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig">
    SeleniumDownloadConfig
  </a>
<nav aria-label="SeleniumDownloadConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.autosave">
    autosave
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.path">
    path
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.prompt">
    prompt
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig">
    SeleniumProxyConfig
  </a>
<nav aria-label="SeleniumProxyConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.enabled">
    enabled
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.host">
    host
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.password">
    password
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.port">
    port
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks">
    socks
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks_version">
    socks_version
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.username">
    username
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine">
    SeleniumStatemachine
  </a>
<nav aria-label="SeleniumStatemachine" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.destroy_context">
    destroy_context()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.setup_context">
    setup_context()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig">
    SeleniumStatemachineConfig
  </a>
<nav aria-label="SeleniumStatemachineConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig.selenium">
    selenium
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.Statemachine">
    Statemachine
  </a>
<nav aria-label="Statemachine" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.Statemachine.setup_context">
    setup_context()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish">
    WaitForScrollFinish
  </a>
<nav aria-label="WaitForScrollFinish" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish.__init__">
    __init__()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig">
    WebdriverManagerConfig
  </a>
<nav aria-label="WebdriverManagerConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.cache_valid_range">
    cache_valid_range
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.latest_release_url">
    latest_release_url
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.log_level">
    log_level
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.path">
    path
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.url">
    url
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverType">
    WebdriverType
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.driver_wait">
    driver_wait()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.element_in_viewport">
    element_in_viewport()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.get_new_window">
    get_new_window()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.get_webdriver">
    get_webdriver()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.get_webdriver_manager">
    get_webdriver_manager()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.install_webdriver">
    install_webdriver()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.js_set_text">
    js_set_text()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.slow_type">
    slow_type()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.type_linebreak">
    type_linebreak()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.wait_and_get_new_window">
    wait_and_get_new_window()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.wait_for_page_load">
    wait_for_page_load()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.wait_for_window_change">
    wait_for_window_change()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
        State Machines
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="State Machines" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon"></span>
          State Machines
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../statemachines/web_browser/">
        Web Browser
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" id="nav-4-2" type="checkbox"/>
<label class="md-nav__link" for="nav-4-2">
        Horde User
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Horde User" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-2">
<span class="md-nav__icon md-icon"></span>
          Horde User
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../statemachines/horde_user/sm/">
        State Machine
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../statemachines/horde_user/states/">
        States
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../statemachines/horde_user/activities/">
        Activities
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../statemachines/horde_user/nav/">
        Selenium Navigation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../statemachines/horde_user/actions/">
        Selenium Actions
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../license/">
        License
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium">
    cr_kyoushi.statemachines.core.selenium
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig">
    SeleniumConfig
  </a>
<nav aria-label="SeleniumConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.accept_insecure_ssl">
    accept_insecure_ssl
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.arguments">
    arguments
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.capabilities">
    capabilities
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.download">
    download
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.driver_manager">
    driver_manager
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.headless">
    headless
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.implicit_wait">
    implicit_wait
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.int">
    int
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.proxy">
    proxy
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.type">
    type
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_height">
    window_height
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_width">
    window_width
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_x_position">
    window_x_position
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_y_position">
    window_y_position
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContext">
    SeleniumContext
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContextModel">
    SeleniumContextModel
  </a>
<nav aria-label="SeleniumContextModel" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContextModel.main_window">
    main_window
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig">
    SeleniumDownloadConfig
  </a>
<nav aria-label="SeleniumDownloadConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.autosave">
    autosave
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.path">
    path
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.prompt">
    prompt
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig">
    SeleniumProxyConfig
  </a>
<nav aria-label="SeleniumProxyConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.enabled">
    enabled
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.host">
    host
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.password">
    password
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.port">
    port
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks">
    socks
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks_version">
    socks_version
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.username">
    username
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine">
    SeleniumStatemachine
  </a>
<nav aria-label="SeleniumStatemachine" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.destroy_context">
    destroy_context()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.setup_context">
    setup_context()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig">
    SeleniumStatemachineConfig
  </a>
<nav aria-label="SeleniumStatemachineConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig.selenium">
    selenium
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.Statemachine">
    Statemachine
  </a>
<nav aria-label="Statemachine" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.Statemachine.setup_context">
    setup_context()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish">
    WaitForScrollFinish
  </a>
<nav aria-label="WaitForScrollFinish" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish.__init__">
    __init__()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig">
    WebdriverManagerConfig
  </a>
<nav aria-label="WebdriverManagerConfig" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.cache_valid_range">
    cache_valid_range
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.latest_release_url">
    latest_release_url
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.log_level">
    log_level
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.path">
    path
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.url">
    url
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.WebdriverType">
    WebdriverType
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.driver_wait">
    driver_wait()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.element_in_viewport">
    element_in_viewport()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.get_new_window">
    get_new_window()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.get_webdriver">
    get_webdriver()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.get_webdriver_manager">
    get_webdriver_manager()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.install_webdriver">
    install_webdriver()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.js_set_text">
    js_set_text()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.slow_type">
    slow_type()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.type_linebreak">
    type_linebreak()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.wait_and_get_new_window">
    wait_and_get_new_window()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.wait_for_page_load">
    wait_for_page_load()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cr_kyoushi.statemachines.core.selenium.wait_for_window_change">
    wait_for_window_change()
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/ait-aecid/kyoushi-statemachines/edit/master/docs/reference/core/selenium.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1>Selenium</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#cr_kyoushi.statemachines.core.selenium" id="cr_kyoushi.statemachines.core.selenium" style="visibility: hidden; position: absolute;">
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium" title="Permanent link">¶</a></h2>
<div class="doc doc-contents first">
<p>This module contains configuration and utility functions for using Selenium webdrivers
as part of simulations.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig">
<code>SeleniumConfig</code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Configuration class for selenium drivers</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.accept_insecure_ssl">
<code class="highlight">
accept_insecure_ssl: <span class="nb">bool</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.accept_insecure_ssl" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>If the browser should accept insecure SSL connections or not.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.arguments">
<code class="highlight">
arguments: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.arguments" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Additional commandline arguments for the webdriver</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.capabilities">
<code class="highlight">
capabilities: <span class="n">Any</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.capabilities" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>List of desired capabilities</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.download">
<code class="highlight">
download: <span class="n">SeleniumDownloadConfig</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.download" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The file download configuration for the webdriver</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.driver_manager">
<code class="highlight">
driver_manager: <span class="n">WebdriverManagerConfig</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.driver_manager" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Configuration for the webdriver manager used to download and install webdrivers.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.headless">
<code class="highlight">
headless: <span class="nb">bool</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.headless" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>If the browser should be run in headless mode or not.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.implicit_wait">
<code class="highlight">
implicit_wait: <span class="nb">float</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.implicit_wait" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The implicit time the selenium driver waits when looking up an element</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.int">
<code class="highlight">
int: <span class="nb">int</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.int" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The windows height in pixels</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.proxy">
<code class="highlight">
proxy: <span class="n">SeleniumProxyConfig</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.proxy" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The proxy configuration to use for the webdriver</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.type">
<code class="highlight">
type: <span class="n">WebdriverType</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.type" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The webdriver type to use.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_height">
<code class="highlight">
window_height: <span class="nb">int</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_height" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The windows height in pixels</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_width">
<code class="highlight">
window_width: <span class="nb">int</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_width" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The windows width in pixels</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_x_position">
<code class="highlight">
window_x_position: <span class="nb">int</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_x_position" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The windows x-axis position in pixels</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_y_position">
<code class="highlight">
window_y_position: <span class="nb">int</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumConfig.window_y_position" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The windows y-axis position in pixels</p>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumContext">
<code>SeleniumContext</code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContext" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Context model for selenium state machines</p>
<div class="doc doc-children">
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumContextModel">
<code>SeleniumContextModel</code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContextModel" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Context model for selenium state machines</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumContextModel.main_window">
<code class="highlight">
main_window: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
<small class="doc doc-property doc-property-required"><code>required</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumContextModel.main_window" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The main window of the webdriver</p>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig">
<code>SeleniumDownloadConfig</code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Configuration class for the selenium drivers download settings</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.autosave">
<code class="highlight">
autosave: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.autosave" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>List of mime type to autosave (required for firefox prompt=False)</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.path">
<code class="highlight">
path: <span class="n">Path</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.path" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The download directory to use</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.prompt">
<code class="highlight">
prompt: <span class="nb">bool</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumDownloadConfig.prompt" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>If the download dialog should be shown or not</p>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig">
<code>SeleniumProxyConfig</code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Selenium webdriver proxy configuration</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.enabled">
<code class="highlight">
enabled: <span class="nb">bool</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.enabled" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>If a proxy should be used or not</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.host">
<code class="highlight">
host: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.host" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The proxy host</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.password">
<code class="highlight">
password: <span class="n">SecretStr</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.password" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The socks password to use for authentication</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.port">
<code class="highlight">
port: <span class="n">PositiveInt</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.port" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The proxy port</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks">
<code class="highlight">
socks: <span class="nb">bool</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>If a socks proxy should be used instead of a HTTP proxy</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks_version">
<code class="highlight">
socks_version: <span class="n">PositiveInt</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.socks_version" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The SOCKS protocol version to use</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.username">
<code class="highlight">
username: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumProxyConfig.username" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The socks username to use for authentication</p>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine">
<code>SeleniumStatemachine</code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Generic selenium state machine class</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.destroy_context">
<code class="highlight language-python">
destroy_context<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.destroy_context" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Destroy and clean up the state machine execution context</p>
<details class="note"><summary>Note</summary><p>Override or extend this function if your state machine needs run some
logic or free <code>Context</code> information after it has finished executing.</p>
</details>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">destroy_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.setup_context">
<code class="highlight language-python">
setup_context<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachine.setup_context" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Initialize and setup the state machine execution context</p>
<details class="note"><summary>Note</summary><p>Override this function if your state machine needs run some
logic or set <code>Context</code> information before it can be executed.</p>
</details>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">setup_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig">
<code>SeleniumStatemachineConfig</code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Web browser state machine configuration model</p>
<p><strong>Examples:</strong></p>
<div class="highlight">
<pre><span></span><code><span class="nt">max_errors</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="nt">start_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2021-01-23T9:00</span>
<span class="nt">end_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2021-01-29T00:01</span>
<span class="nt">schedule</span><span class="p">:</span>
<span class="nt">work_days</span><span class="p">:</span>
    <span class="nt">monday</span><span class="p">:</span>
        <span class="nt">start_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">09:00</span>
        <span class="nt">end_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">17:30</span>
    <span class="nt">friday</span><span class="p">:</span>
        <span class="nt">start_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">11:21</span>
        <span class="nt">end_time</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">19:43</span>
<span class="nt">selenium</span><span class="p">:</span>
    <span class="nt">driver_manager</span><span class="p">:</span>
        <span class="nt">cache_valid_range</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span> <span class="c1"># days</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">firefox</span>
    <span class="nt">window_width</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">800</span>
    <span class="nt">window_height</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">600</span>
    <span class="nt">accept_insecure_ssl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</code></pre>
</div>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig.selenium">
<code class="highlight">
selenium: <span class="n">SeleniumConfig</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.SeleniumStatemachineConfig.selenium" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Selenium configuration for the web browser user</p>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.Statemachine">
<code>Statemachine</code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.Statemachine" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Basic selenium state machine class with a selenium context</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.Statemachine.setup_context">
<code class="highlight language-python">
setup_context<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.Statemachine.setup_context" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Initialize and setup the state machine execution context</p>
<details class="note"><summary>Note</summary><p>Override this function if your state machine needs run some
logic or set <code>Context</code> information before it can be executed.</p>
</details>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">setup_context</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">driver</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_driver</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="n">SeleniumContextModel</span><span class="p">(</span>
        <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span>
        <span class="n">main_window</span><span class="o">=</span><span class="n">driver</span><span class="o">.</span><span class="n">current_window_handle</span><span class="p">,</span>
        <span class="n">fake</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fake</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish">
<code>WaitForScrollFinish</code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Utility class that can be used to wait for a vertical scroll to finish.</p>
<p>Can also be used as context manager to encapsulate a code block with the
wait directive. Meaning the y_pos is saved at the start of the block
and the check is started once the indented block has finished.</p>
<p><strong>Examples:</strong></p>
<p>```python
with WaitForScrollFinish(driver):
    # y post is magically saved here
    driver.find_element_by_id('some-input').send_keys('input')
    driver.find_element_by_id('some-button').click()
    # scroll checks and waits magically begin here</p>
<p>```</p>
<div class="doc doc-children">
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">driver</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WaitForScrollFinish.__init__" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver instance</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>y_pos</code></td>
<td><code>int</code></td>
<td>
<p>The initial y position to use. Used when you want to manually call the wait functions.</p>
</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>timeout</code></td>
<td><code>int</code></td>
<td>
<p>The maximum amount of time to wait for the scroll to finish.</p>
</td>
<td><code>120</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span>
    <span class="n">y_pos</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver instance</span>
<span class="sd">        y_pos: The initial y position to use. Used when you want to manually call the wait functions.</span>
<span class="sd">        timeout: The maximum amount of time to wait for the scroll to finish.</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span> <span class="o">=</span> <span class="n">driver</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">timeout</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">y_pos_org</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">y_pos</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig">
<code>WebdriverManagerConfig</code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Configuration class for the selenium webdriver manager</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.cache_valid_range">
<code class="highlight">
cache_valid_range: <span class="n">PositiveInt</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.cache_valid_range" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The validity of the driver cache in days.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.latest_release_url">
<code class="highlight">
latest_release_url: <span class="n">AnyUrl</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.latest_release_url" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The URL for the latest version of the webdriver</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.log_level">
<code class="highlight">
log_level: <span class="n">LogLevel</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.log_level" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Log level for the webdriver manager.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.path">
<code class="highlight">
path: <span class="n">Path</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.path" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The webdriver cache path</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.url">
<code class="highlight">
url: <span class="n">AnyUrl</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
</span>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverManagerConfig.url" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>The base URL to download the webdriver from. (e.g., <a href="https://chromedriver.storage.googleapis.com">https://chromedriver.storage.googleapis.com</a>)</p>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.WebdriverType">
<code>WebdriverType</code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.WebdriverType" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Enum for the different Selenium webdriver types</p>
<div class="doc doc-children">
</div>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.driver_wait">
<code class="highlight language-python">
driver_wait<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">check_func</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">poll_frequency</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ignored_exceptions</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.driver_wait" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Wrapper function for WebDriverWait until with a custom timeout value</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver instance</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>check_func</code></td>
<td><code>Callable[[selenium.webdriver.remote.webdriver.WebDriver], Optional[Any]]</code></td>
<td>
<p>The poll check function</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>timeout</code></td>
<td><code>Union[float, int]</code></td>
<td>
<p>The maximum time to wait.</p>
</td>
<td><code>120</code></td>
</tr>
<tr>
<td><code>poll_frequency</code></td>
<td><code>float</code></td>
<td>
<p>The poll frequency.</p>
</td>
<td><code>0.5</code></td>
</tr>
<tr>
<td><code>ignored_exceptions</code></td>
<td><code>Tuple[Exception, ...]</code></td>
<td>
<p>The exceptions to ignore and not count as errors.</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">driver_wait</span><span class="p">(</span>
    <span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span>
    <span class="n">check_func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]],</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">TIMEOUT</span><span class="p">,</span>
    <span class="n">poll_frequency</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">POLL_FREQUENCY</span><span class="p">,</span>
    <span class="n">ignored_exceptions</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="ne">Exception</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""Wrapper function for WebDriverWait until with a custom timeout value</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver instance</span>
<span class="sd">        check_func: The poll check function</span>
<span class="sd">        timeout: The maximum time to wait.</span>
<span class="sd">        poll_frequency: The poll frequency.</span>
<span class="sd">        ignored_exceptions: The exceptions to ignore and not count as errors.</span>
<span class="sd">    """</span>
    <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">poll_frequency</span><span class="p">,</span> <span class="n">ignored_exceptions</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">check_func</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.element_in_viewport">
<code class="highlight language-python">
element_in_viewport<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">elem</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.element_in_viewport" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Checks wether an element is not only visible but is also in the current viewport.</p>
<p>See <a href="https://stackoverflow.com/a/46816183">https://stackoverflow.com/a/46816183</a></p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>elem</code></td>
<td><code>WebElement</code></td>
<td>
<p>The element to check</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bool</code></td>
<td>
<p><code>True</code> if the element is in the viewport <code>False</code> otherwise.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">element_in_viewport</span><span class="p">(</span><span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span> <span class="n">elem</span><span class="p">:</span> <span class="n">WebElement</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">"""Checks wether an element is not only visible but is also in the current viewport.</span>

<span class="sd">    See https://stackoverflow.com/a/46816183</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver</span>
<span class="sd">        elem: The element to check</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the element is in the viewport `False` otherwise.</span>
<span class="sd">    """</span>
    <span class="n">elem_left_bound</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"x"</span><span class="p">)</span>
    <span class="n">elem_top_bound</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"y"</span><span class="p">)</span>
    <span class="n">elem_width</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"width"</span><span class="p">)</span>
    <span class="n">elem_height</span> <span class="o">=</span> <span class="n">elem</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"height"</span><span class="p">)</span>
    <span class="n">elem_right_bound</span> <span class="o">=</span> <span class="n">elem_left_bound</span> <span class="o">+</span> <span class="n">elem_width</span>
    <span class="n">elem_lower_bound</span> <span class="o">=</span> <span class="n">elem_top_bound</span> <span class="o">+</span> <span class="n">elem_height</span>

    <span class="n">win_upper_bound</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">"return window.pageYOffset"</span><span class="p">)</span>
    <span class="n">win_left_bound</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">"return window.pageXOffset"</span><span class="p">)</span>
    <span class="n">win_width</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span>
        <span class="s2">"return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;"</span>
    <span class="p">)</span>
    <span class="n">win_height</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span>
        <span class="s2">"return window.innerHeight || document.documentElement.clientHeight|| document.body.clientHeight;"</span>
    <span class="p">)</span>
    <span class="n">win_right_bound</span> <span class="o">=</span> <span class="n">win_left_bound</span> <span class="o">+</span> <span class="n">win_width</span>
    <span class="n">win_lower_bound</span> <span class="o">=</span> <span class="n">win_upper_bound</span> <span class="o">+</span> <span class="n">win_height</span>

    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
        <span class="p">(</span>
            <span class="n">win_left_bound</span> <span class="o">&lt;=</span> <span class="n">elem_left_bound</span><span class="p">,</span>
            <span class="n">win_right_bound</span> <span class="o">&gt;=</span> <span class="n">elem_right_bound</span><span class="p">,</span>
            <span class="n">win_upper_bound</span> <span class="o">&lt;=</span> <span class="n">elem_top_bound</span><span class="p">,</span>
            <span class="n">win_lower_bound</span> <span class="o">&gt;=</span> <span class="n">elem_lower_bound</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.get_new_window">
<code class="highlight language-python">
get_new_window<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">handles_before</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.get_new_window" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Get the new window based on the current and previous window list.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>handles_before</code></td>
<td><code>List[str]</code></td>
<td>
<p>The window list before the new window opened</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Optional[str]</code></td>
<td>
<p>The window handle for the new window</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_new_window</span><span class="p">(</span>
    <span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span>
    <span class="n">handles_before</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">"""Get the new window based on the current and previous window list.</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver</span>
<span class="sd">        handles_before: The window list before the new window opened</span>

<span class="sd">    Returns:</span>
<span class="sd">        The window handle for the new window</span>
<span class="sd">    """</span>
    <span class="c1"># get new window and return</span>
    <span class="n">handle_after</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">window_handles</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">handle_after</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">handles_before</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">handle_after</span><span class="p">)</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">handles_before</span><span class="p">))</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.get_webdriver">
<code class="highlight language-python">
get_webdriver<span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">driver_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.get_webdriver" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Gets and configures a Selenium webdriver instance based on the given configuration.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>config</code></td>
<td><code>SeleniumConfig</code></td>
<td>
<p>The selenium configuration</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>WebDriver</code></td>
<td>
<p>The initialized and configured Selenium webdriver instance</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_webdriver</span><span class="p">(</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">SeleniumConfig</span><span class="p">,</span>
    <span class="n">driver_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">:</span>
    <span class="sd">"""Gets and configures a Selenium webdriver instance based on the given configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The selenium configuration</span>

<span class="sd">    Returns:</span>
<span class="sd">        The initialized and configured Selenium webdriver instance</span>
<span class="sd">    """</span>
    <span class="n">driver_info</span> <span class="o">=</span> <span class="n">_MANAGER_MAP</span><span class="p">[</span><span class="n">config</span><span class="o">.</span><span class="n">type</span><span class="p">]</span>
    <span class="n">fox_profile</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># install webdriver and get path if not already given</span>
    <span class="k">if</span> <span class="n">driver_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">driver_path</span> <span class="o">=</span> <span class="n">install_webdriver</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="n">options</span> <span class="o">=</span> <span class="n">driver_info</span><span class="p">[</span><span class="s2">"driver_options"</span><span class="p">]</span>

    <span class="c1"># configure webdriver capabilities</span>
    <span class="k">for</span> <span class="n">cap</span><span class="p">,</span> <span class="n">cap_val</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">capabilities</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">options</span><span class="o">.</span><span class="n">set_capability</span><span class="p">(</span><span class="n">cap</span><span class="p">,</span> <span class="n">cap_val</span><span class="p">)</span>

    <span class="c1"># configure webdriver arguments</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">arguments</span><span class="p">:</span>
        <span class="n">options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">EDGE</span> <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">IE</span><span class="p">:</span>
        <span class="c1"># configure headless mode via driver options</span>
        <span class="n">options</span><span class="o">.</span><span class="n">set_headless</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">headless</span><span class="p">)</span>

    <span class="c1"># configure SSL cert insecure option</span>
    <span class="n">options</span><span class="o">.</span><span class="n">set_capability</span><span class="p">(</span><span class="s2">"acceptInsecureCerts"</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">accept_insecure_ssl</span><span class="p">)</span>

    <span class="c1"># configure proxy</span>
    <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">enabled</span><span class="p">:</span>
        <span class="n">proxy_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">port</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span>
        <span class="n">proxy</span> <span class="o">=</span> <span class="n">Proxy</span><span class="p">()</span>

        <span class="n">proxy</span><span class="o">.</span><span class="n">proxy_type</span> <span class="o">=</span> <span class="n">ProxyType</span><span class="o">.</span><span class="n">MANUAL</span>
        <span class="n">proxy</span><span class="o">.</span><span class="n">autodetect</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">proxy</span><span class="o">.</span><span class="n">ftp_proxy</span> <span class="o">=</span> <span class="n">proxy_url</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">socks</span><span class="p">:</span>
            <span class="n">proxy</span><span class="o">.</span><span class="n">socks_proxy</span> <span class="o">=</span> <span class="n">proxy_url</span>
            <span class="c1"># auth settings</span>
            <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">username</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">password</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">proxy</span><span class="o">.</span><span class="n">socks_username</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">username</span>
                <span class="n">proxy</span><span class="o">.</span><span class="n">socks_password</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">password</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">proxy</span><span class="o">.</span><span class="n">http_proxy</span> <span class="o">=</span> <span class="n">proxy_url</span>
            <span class="n">proxy</span><span class="o">.</span><span class="n">ssl_proxy</span> <span class="o">=</span> <span class="n">proxy_url</span>

        <span class="c1"># options: webdriver.ChromeOptions</span>
        <span class="c1"># apply proxy settings</span>
        <span class="n">proxy</span><span class="o">.</span><span class="n">add_to_capabilities</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">capabilities</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">socks</span><span class="p">:</span>
            <span class="c1"># need to manually set the socksVersion since</span>
            <span class="c1"># the proxy config object does not expose the setting</span>
            <span class="n">options</span><span class="o">.</span><span class="n">capabilities</span><span class="p">[</span><span class="s2">"proxy"</span><span class="p">][</span><span class="s2">"socksVersion"</span><span class="p">]</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">proxy</span><span class="o">.</span><span class="n">socks_version</span>

    <span class="n">download_path</span> <span class="o">=</span> <span class="p">(</span>
        <span class="c1"># set download path if we have one</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">absolute</span><span class="p">())</span>
        <span class="c1"># otherwise set empty string</span>
        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="s2">""</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">prompt</span><span class="p">:</span>

        <span class="c1"># create download directory</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">download_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">CHROME</span> <span class="ow">or</span> <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">CHROMIUM</span><span class="p">:</span>
            <span class="n">download_options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>
            <span class="n">download_options</span>
            <span class="n">options</span><span class="o">.</span><span class="n">experimental_options</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">"prefs"</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">"download.default_directory"</span><span class="p">:</span> <span class="n">download_path</span><span class="p">,</span>
                    <span class="s2">"download.prompt_for_download"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">"download.directory_upgrade"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="s2">"download.download_restrictions"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">"safebrowsing_for_trusted_sources_enabled"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s2">"safebrowsing.enabled"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">FIREFOX</span><span class="p">:</span>
            <span class="n">fox_profile</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">FirefoxProfile</span><span class="p">()</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
                <span class="s2">"browser.download.folderList"</span><span class="p">,</span> <span class="mi">2</span>
            <span class="p">)</span>  <span class="c1"># custom location</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
                <span class="s2">"browser.download.manager.showWhenStarting"</span><span class="p">,</span> <span class="kc">False</span>
            <span class="p">)</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">"browser.download.dir"</span><span class="p">,</span> <span class="n">download_path</span><span class="p">)</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">"browser.download.manager.alertOnEXEOpen"</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">"browser.download.manager.closeWhenDone"</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
                <span class="s2">"browser.download.manager.focusWhenStarting"</span><span class="p">,</span> <span class="kc">False</span>
            <span class="p">)</span>
            <span class="c1"># application/octet-stream,application/vnd.ms-excel</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span>
                <span class="s2">"browser.helperApps.neverAsk.saveToDisk"</span><span class="p">,</span>
                <span class="s2">","</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">autosave</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="c1"># need to disable pdf viewer as well</span>
            <span class="n">fox_profile</span><span class="o">.</span><span class="n">set_preference</span><span class="p">(</span><span class="s2">"pdfjs.disabled"</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="c1"># common arguments</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"executable_path"</span><span class="p">:</span> <span class="n">driver_path</span><span class="p">,</span>
        <span class="s2">"options"</span><span class="p">:</span> <span class="n">options</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">fox_profile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">args</span><span class="p">[</span><span class="s2">"firefox_profile"</span><span class="p">]</span> <span class="o">=</span> <span class="n">fox_profile</span>

    <span class="c1"># create driver</span>
    <span class="n">driver</span> <span class="o">=</span> <span class="n">driver_info</span><span class="p">[</span><span class="s2">"driver"</span><span class="p">](</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># for chrome we need to enable auto download</span>
    <span class="c1"># after start</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">config</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">prompt</span> <span class="ow">and</span> <span class="p">(</span>
        <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">CHROME</span> <span class="ow">or</span> <span class="n">config</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">WebdriverType</span><span class="o">.</span><span class="n">CHROMIUM</span>
    <span class="p">):</span>
        <span class="n">chrome_enable_download_headless</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">download_path</span><span class="p">)</span>

    <span class="c1"># configure driver implicit wait time</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">implicit_wait</span><span class="p">)</span>

    <span class="c1"># configure browser display size and position</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">set_window_position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">window_x_position</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">window_y_position</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">driver</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.get_webdriver_manager">
<code class="highlight language-python">
get_webdriver_manager<span class="p">(</span><span class="n">config</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.get_webdriver_manager" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Gets and configures a webdriver manager instance for the given selenium config.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>config</code></td>
<td><code>SeleniumConfig</code></td>
<td>
<p>The selenium config</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DriverManager</code></td>
<td>
<p>Configured <code>DriverManager</code> instance</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_webdriver_manager</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">SeleniumConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DriverManager</span><span class="p">:</span>
    <span class="sd">"""Gets and configures a webdriver manager instance for the given selenium config.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The selenium config</span>

<span class="sd">    Returns:</span>
<span class="sd">        Configured `DriverManager` instance</span>
<span class="sd">    """</span>
    <span class="n">manager_info</span> <span class="o">=</span> <span class="n">_MANAGER_MAP</span><span class="p">[</span><span class="n">config</span><span class="o">.</span><span class="n">type</span><span class="p">]</span>

    <span class="n">manager_options</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">manager_info</span><span class="p">[</span><span class="s2">"manager_options"</span><span class="p">])</span>
    <span class="n">manager_options</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">filter_none_keys</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">driver_manager</span><span class="o">.</span><span class="n">dict</span><span class="p">()))</span>
    <span class="c1"># convert log level to int</span>
    <span class="n">manager_options</span><span class="p">[</span><span class="s2">"log_level"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">manager_options</span><span class="p">[</span><span class="s2">"log_level"</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">manager_info</span><span class="p">[</span><span class="s2">"manager"</span><span class="p">](</span><span class="o">**</span><span class="n">manager_options</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.install_webdriver">
<code class="highlight language-python">
install_webdriver<span class="p">(</span><span class="n">config</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.install_webdriver" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Installs the configured Selenium driver and returns the install path.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>config</code></td>
<td><code>SeleniumConfig</code></td>
<td>
<p>The Selenium configuration determining which driver gets installed and how.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>Path to the installed driver binary.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">install_webdriver</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">SeleniumConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">"""Installs the configured Selenium driver and returns the install path.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The Selenium configuration determining which driver gets installed and how.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Path to the installed driver binary.</span>
<span class="sd">    """</span>
    <span class="n">manager</span> <span class="o">=</span> <span class="n">get_webdriver_manager</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">manager</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.js_set_text">
<code class="highlight language-python">
js_set_text<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">element</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.js_set_text" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Set the text value of an input element directly with Javascript.</p>
<p>This can be useful for avoiding onChange event listeners
evaluating partial texts.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>element</code></td>
<td><code>WebElement</code></td>
<td>
<p>The input element to set the text for</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>text</code></td>
<td><code>str</code></td>
<td>
<p>The text to set</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">js_set_text</span><span class="p">(</span><span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span> <span class="n">element</span><span class="p">:</span> <span class="n">WebElement</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">"""Set the text value of an input element directly with Javascript.</span>

<span class="sd">    This can be useful for avoiding onChange event listeners</span>
<span class="sd">    evaluating partial texts.</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver</span>
<span class="sd">        element: The input element to set the text for</span>
<span class="sd">        text: The text to set</span>
<span class="sd">    """</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">"arguments[0].value = '</span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">'"</span><span class="p">,</span>
        <span class="n">element</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.slow_type">
<code class="highlight language-python">
slow_type<span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="n">ApproximateFloat</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">0.35</span><span class="p">))</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.slow_type" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Send a text to an element one character at a time with a delay.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>element</code></td>
<td><code>WebElement</code></td>
<td>
<p>The element to send the text to</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>text</code></td>
<td><code>str</code></td>
<td>
<p>The text to send</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>delay</code></td>
<td><code>Union[float, cr_kyoushi.simulation.model.ApproximateFloat]</code></td>
<td>
<p>The delay to use in between key strokes.
   Average typing speed is 180-200 characters per minute or
   3~ per second. The default was set with this in mind.</p>
</td>
<td><code>ApproximateFloat(min=0.05, max=0.35)</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">slow_type</span><span class="p">(</span>
    <span class="n">element</span><span class="p">:</span> <span class="n">WebElement</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">delay</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">ApproximateFloat</span><span class="p">]</span> <span class="o">=</span> <span class="n">ApproximateFloat</span><span class="p">(</span>
        <span class="nb">min</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
        <span class="nb">max</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">):</span>
    <span class="sd">"""Send a text to an element one character at a time with a delay.</span>

<span class="sd">    Args:</span>
<span class="sd">        element: The element to send the text to</span>
<span class="sd">        text: The text to send</span>
<span class="sd">        delay: The delay to use in between key strokes.</span>
<span class="sd">               Average typing speed is 180-200 characters per minute or</span>
<span class="sd">               3~ per second. The default was set with this in mind.</span>
<span class="sd">    """</span>
    <span class="c1"># convert to approximate float if we got a float</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="n">ApproximateFloat</span><span class="p">):</span>
        <span class="n">delay</span> <span class="o">=</span> <span class="n">ApproximateFloat</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>

    <span class="c1"># type the text</span>
    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="n">element</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">character</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.type_linebreak">
<code class="highlight language-python">
type_linebreak<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.type_linebreak" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Sends a linebreak to the currently focused input element (e.g., textarea).</p>
<p>This is done using <span class="keys"><kbd class="key-shift">Shift</kbd><span>+</span><kbd class="key-enter">Enter</kbd></span> so no submit is triggered.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>count</code></td>
<td><code></code></td>
<td>
<p>The amount of line breaks to write</p>
</td>
<td><code>1</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">type_linebreak</span><span class="p">(</span><span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">"""Sends a linebreak to the currently focused input element (e.g., textarea).</span>

<span class="sd">    This is done using ++shift+enter++ so no submit is triggered.</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver</span>
<span class="sd">        count: The amount of line breaks to write</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="n">ActionChains</span><span class="p">(</span><span class="n">driver</span><span class="p">)</span><span class="o">.</span><span class="n">key_down</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">SHIFT</span><span class="p">)</span><span class="o">.</span><span class="n">key_down</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span><span class="o">.</span><span class="n">key_up</span><span class="p">(</span>
            <span class="n">Keys</span><span class="o">.</span><span class="n">SHIFT</span>
        <span class="p">)</span><span class="o">.</span><span class="n">key_up</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">ENTER</span><span class="p">)</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.wait_and_get_new_window">
<code class="highlight language-python">
wait_and_get_new_window<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">poll_frequency</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.wait_and_get_new_window" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Executes the given function and waits for a new window to open and returns it handle.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>action</code></td>
<td><code>Callable[[], NoneType]</code></td>
<td>
<p>The function to execute before waiting for the window</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>timeout</code></td>
<td><code>Union[float, int]</code></td>
<td>
<p>The maximum time to wait</p>
</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>poll_frequency</code></td>
<td><code>float</code></td>
<td>
<p>The frequency to check for the presence of the new window</p>
</td>
<td><code>0.5</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Optional[str]</code></td>
<td>
<p>Optional[str]: [description]</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">wait_and_get_new_window</span><span class="p">(</span>
    <span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span>
    <span class="n">action</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="kc">None</span><span class="p">],</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">poll_frequency</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">POLL_FREQUENCY</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">"""Executes the given function and waits for a new window to open and returns it handle.</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver</span>
<span class="sd">        action: The function to execute before waiting for the window</span>
<span class="sd">        timeout: The maximum time to wait</span>
<span class="sd">        poll_frequency: The frequency to check for the presence of the new window</span>

<span class="sd">    Returns:</span>
<span class="sd">        Optional[str]: [description]</span>
<span class="sd">    """</span>
    <span class="n">handles_before</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">window_handles</span>

    <span class="n">action</span><span class="p">()</span>

    <span class="n">wait_for_window_change</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">handles_before</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">poll_frequency</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">get_new_window</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">handles_before</span><span class="p">)</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.wait_for_page_load">
<code class="highlight language-python">
wait_for_page_load<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">locator</span><span class="o">=</span><span class="p">(</span><span class="s1">'tag name'</span><span class="p">,</span> <span class="s1">'html'</span><span class="p">),</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.wait_for_page_load" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Context manager for waiting on page reloads or requests caused by interaction.</p>
<p>From <a href="https://www.cloudbees.com/blog/get-selenium-to-wait-for-page-load/">https://www.cloudbees.com/blog/get-selenium-to-wait-for-page-load/</a></p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>timeout</code></td>
<td><code></code></td>
<td>
<p>The maximum time to wait for the page to load</p>
</td>
<td><code>120</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">wait_for_page_load</span><span class="p">(</span>
    <span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span>
    <span class="n">locator</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">By</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">TAG_NAME</span><span class="p">,</span> <span class="s2">"html"</span><span class="p">),</span>
    <span class="n">timeout</span><span class="o">=</span><span class="n">TIMEOUT</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""Context manager for waiting on page reloads or requests caused by interaction.</span>

<span class="sd">    From https://www.cloudbees.com/blog/get-selenium-to-wait-for-page-load/</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: The maximum time to wait for the page to load</span>
<span class="sd">    """</span>
    <span class="p">(</span><span class="n">by</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">locator</span>
    <span class="n">old_page</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">by</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">yield</span>
    <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">staleness_of</span><span class="p">(</span><span class="n">old_page</span><span class="p">))</span>
</code></pre>
</div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="cr_kyoushi.statemachines.core.selenium.wait_for_window_change">
<code class="highlight language-python">
wait_for_window_change<span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="n">handles_before</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">poll_frequency</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> </code>
<a class="headerlink" href="#cr_kyoushi.statemachines.core.selenium.wait_for_window_change" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Wait for a new window to open and returns its window handle.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>driver</code></td>
<td><code>WebDriver</code></td>
<td>
<p>The webdriver</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>handles_before</code></td>
<td><code>List[str]</code></td>
<td>
<p>The handles list before the new window opens</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>timeout</code></td>
<td><code>Union[float, int]</code></td>
<td>
<p>The maximum time to wait for</p>
</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>poll_frequency</code></td>
<td><code>float</code></td>
<td>
<p>The frequency the condition should be checked</p>
</td>
<td><code>0.5</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>statemachines/core/selenium.py</code></summary>
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">wait_for_window_change</span><span class="p">(</span>
    <span class="n">driver</span><span class="p">:</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Remote</span><span class="p">,</span>
    <span class="n">handles_before</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">poll_frequency</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">POLL_FREQUENCY</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""Wait for a new window to open and returns its window handle.</span>

<span class="sd">    Args:</span>
<span class="sd">        driver: The webdriver</span>
<span class="sd">        handles_before: The handles list before the new window opens</span>
<span class="sd">        timeout: The maximum time to wait for</span>
<span class="sd">        poll_frequency: The frequency the condition should be checked</span>
<span class="sd">    """</span>
    <span class="c1"># wait for the window to appear</span>
    <span class="n">WebDriverWait</span><span class="p">(</span>
        <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
        <span class="n">poll_frequency</span><span class="o">=</span><span class="n">poll_frequency</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="k">lambda</span> <span class="n">driver</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">handles_before</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">driver</span><span class="o">.</span><span class="n">window_handles</span><span class="p">))</span>
</code></pre>
</div>
</details>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../util/" rel="prev">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Util
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../../../statemachines/web_browser/" rel="next">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Web Browser
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../../assets/javascripts/vendor.18f0862e.min.js"></script>
<script src="../../../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
<script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="../../../js/jquery-3.5.1.min.js"></script>
<script src="../../../js/jquery.fancybox.min.js"></script>
</body>
</html>